<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Green Vote Store</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: sans-serif;
            background-color: #f9faf5;
        }

        .header {
            background: linear-gradient(135deg, #2e7d32 0%, #388e3c 50%, #1b5e20 100%);
            color: white;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 50%, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 60%);
        }

        .header-content {
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between; /* ÏïÑÏù¥ÌÖúÎì§ÏùÑ Ï¢åÏö∞Î°ú Ï†ïÎ†¨ */
            gap: 15px;
        }
        

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 40px;
            height: 40px;
        }

        .site-title {
            font-family: 'Dancing Script', cursive;
            font-size: 32px;
            font-weight: 700;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .points-content {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .points-display {
            font-size: 18px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .points-display::before {
            content: 'üå±';
            font-size: 24px;
        }

        .store-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }

        .category-title {
            color: #1b5e20;
            margin: 30px 0 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #4caf50;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: #e8f5e9;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .product-image img {
            width: 80%;
            height: 80%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .product-card:hover .product-image img {
            transform: scale(1.1);
        }

        .product-info {
            padding: 20px;
        }

        .product-name {
            font-size: 18px;
            font-weight: 600;
            color: #1b5e20;
            margin-bottom: 8px;
        }

        .product-description {
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .product-price {
            color: #2e7d32;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 15px;
        }

        .product-price::before {
            content: 'üå±';
            font-size: 16px;
        }

        .exchange-button {
            background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);
            color: white;
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .exchange-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(46, 125, 50, 0.2);
        }

        .exchange-button:disabled {
            background: #9e9e9e;
            cursor: not-allowed;
        }

        .success-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transform: translateX(200%);
            transition: transform 0.3s ease-out;
            z-index: 1000;
        }

        .success-popup.show {
            transform: translateX(0);
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            75% {
                transform: translateX(5px);
            }
        }

        .shake {
            animation: shake 0.5s ease-in-out;
        }
        .return-home {
            margin-left: 10px;
            font-size: 14px;
            text-decoration: none;
            color: #2e7d32;
            font-weight: 500;
            transition: color 0.2s;
        }
        
        .return-home:hover {
            color: #388e3c;
        }

        .nav {
            background: linear-gradient(to bottom, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.95) 100%);
            padding: 15px 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-content {
            max-width: 1000px;
            margin: 0 auto;
        }

        .nav-item {
            display: inline-block;
            margin-right: 30px;
            color: #333;
            text-decoration: none;
            font-weight: 500;
            position: relative;
            padding: 5px 0;
        }

        .nav-item.active {
            color: #2e7d32;
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(to right, #4caf50, #2e7d32);
            border-radius: 2px;
        }

        .nav-item:hover {
            color: #2e7d32;
        }
        

        .user-info-container {
            display: flex;
            align-items: center;
            gap: 20px; /* Ìè¨Ïù∏Ìä∏ÏôÄ ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ Í∞ÑÏùò Í∞ÑÍ≤© */
        }
        
        .username-container {
            font-size: 18px;
            font-weight: bold;
            color: white;
            background: #2e7d32; /* Ï¥àÎ°ù Î∞∞Í≤Ω */
            padding: 8px 16px;
            border-radius: 8px;
        }
    </style>
</head>

<body>
    <div class="header">
        <div class="header-content">
            <div class="logo-container">
                <svg class="logo" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <!-- Ìà¨ÌëúÌï® -->
                    <rect x="35" y="45" width="30" height="35" fill="none" stroke="white" stroke-width="3" rx="4" />
                    <rect x="42" y="40" width="16" height="8" fill="none" stroke="white" stroke-width="3" />
    
                    <!-- ÏÜê -->
                    <path
                        d="M75 55 C80 50 83 60 80 65 L75 70 L70 73 L65 75 L60 73 L57 70 C55 67 53 60 57 57 C60 55 63 57 65 60 C67 57 70 55 73 57"
                        fill="white" />
    
                    <!-- ÎÇòÎ≠áÏûé Î™®Ïñë Ìà¨ÌëúÏö©ÏßÄ -->
                    <path d="M25 45 L35 45 
                       Q30 35 35 25
                       Q40 35 35 45
                       L25 45" fill="white" transform="rotate(-15, 30, 35)" />
                </svg>
                <h1 class="site-title">Green Vote Store</h1>
            </div>
            <div class="user-info-container">
                <div class="points-display">
                    ÌòÑÏû¨ Ìè¨Ïù∏Ìä∏: {{ points }}
                </div>
                <div class="username-container">{{username}}</div>
            </div>
        </div>
    </div>
    <div class="nav">
        <div class="nav-content">
            <a href="{{ url_for('news') }}" class="nav-item" onclick="activateNavItem(this)">Îâ¥Ïä§</a>
            <a href="{{ url_for('main') }}" class="nav-item" onclick="activateNavItem(this)">Ï†ïÏ±Ö</a>
            <a href="{{ url_for('store') }}" class="nav-item" onclick="activateNavItem(this)">ÏóêÏΩî Î¶¨ÏõåÎìú</a>
        </div>
    </div>

    <div class="store-container">
        <h2 class="category-title">Ïù∏Í∏∞ ÏÉÅÌíà</h2>
        <div class="products-grid">
            <div class="product-card">
                <div class="product-image">
                    <img src="{{ url_for('static', filename='starbucks.jpg') }}" alt="Reusable Bottle">
                </div>
                <div class="product-info">
                    <h3 class="product-name">Ïä§ÌÉÄÎ≤ÖÏä§ 5000ÏõêÍ∂å</h3>
                    <div class="product-price">300 Ìè¨Ïù∏Ìä∏</div>
                    <form method="post">
                        <input type="hidden" name="item_cost" value="300">
                        <button type="submit" class="exchange-button">ÍµêÌôòÌïòÍ∏∞</button>
                    </form>
                </div>
            </div>
    
            <div class="product-card">
                <div class="product-image">
                    <img src="{{ url_for('static', filename='starbucks.jpg') }}" alt="Reusable Bottle">
                </div>
                <div class="product-info">
                    <h3 class="product-name">Ïä§ÌÉÄÎ≤ÖÏä§ 10000ÏõêÍ∂å</h3>
                    <div class="product-price">600 Ìè¨Ïù∏Ìä∏</div>
                    <form method="post">
                        <input type="hidden" name="item_cost" value="600">
                        <button type="submit" class="exchange-button">ÍµêÌôòÌïòÍ∏∞</button>
                    </form>
                </div>
            </div>
    
            <div class="product-card">
                <div class="product-image">
                    <img src="{{ url_for('static', filename='bottle.jpg') }}" alt="Reusable Bottle">
                </div>
                <div class="product-info">
                    <h3 class="product-name">Ïä§ÌÉÄÎ≤ÖÏä§ ÌÖÄÎ∏îÎü¨</h3>
                    <div class="product-price">900 Ìè¨Ïù∏Ìä∏</div>
                    <form method="post">
                        <input type="hidden" name="item_cost" value="900">
                        <button type="submit" class="exchange-button">ÍµêÌôòÌïòÍ∏∞</button>
                    </form>
                </div>
            </div>
    
            <div class="product-card">
                <div class="product-image">
                    <img src="{{ url_for('static', filename='ecobag.jpg') }}" alt="Reusable Bottle">
                </div>
                <div class="product-info">
                    <h3 class="product-name">Î¶¨ÏÇ¨Ïù¥ÌÅ¥ ÏóêÏΩîÎ∞±</h3>
                    <div class="product-price">400 Ìè¨Ïù∏Ìä∏</div>
                    <form method="post">
                        <input type="hidden" name="item_cost" value="400">
                        <button type="submit" class="exchange-button">ÍµêÌôòÌïòÍ∏∞</button>
                    </form>
                </div>
            </div>
    
            <div class="product-card">
                <div class="product-image">
                    <img src="{{ url_for('static', filename='product.jpg') }}" alt="Reusable Bottle">
                </div>
                <div class="product-info">
                    <h3 class="product-name">ÎπÑÍ±¥ ÌôîÏû•Ìíà 2000Ïõê Ìï†Ïù∏Í∂å</h3>
                    <div class="product-price">200 Ìè¨Ïù∏Ìä∏</div>
                    <form method="post">
                        <input type="hidden" name="item_cost" value="200">
                        <button type="submit" class="exchange-button">ÍµêÌôòÌïòÍ∏∞</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    

    <div id="successPopup" class="success-popup">ÍµêÌôòÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!</div>

<script>
    let userPoints = {{ points }};
    const pointsElement = document.getElementById('points');
    const pointsUpdate = document.getElementById('points-update');
    const successPopup = document.getElementById('successPopup');

    function showPopup() {
        successPopup.classList.add('show');
        setTimeout(() => {
            successPopup.classList.remove('show');
        }, 3000);
    }

    function updatePoints(newPoints) {
        pointsElement.textContent = newPoints;
        pointsUpdate.style.opacity = '1';
        setTimeout(() => {
            pointsUpdate.style.opacity = '0';
        }, 2000);
    }

    function exchange(button, cost) {
        if (userPoints >= cost) {
            button.classList.add('shake');
            setTimeout(() => {
                button.classList.remove('shake');
            }, 500);

            userPoints -= cost;
            updatePoints(userPoints);
            showPopup();

            // Ìè¨Ïù∏Ìä∏Í∞Ä Î∂ÄÏ°±Ìïú ÏÉÅÌíàÏùò Î≤ÑÌäº ÎπÑÌôúÏÑ±Ìôî
            document.querySelectorAll('.exchange-button').forEach(btn => {
                const price = parseInt(btn.previousElementSibling.textContent);
                btn.disabled = userPoints < price;
            });
        } else {
            button.classList.add('shake');
            setTimeout(() => {
                button.classList.remove('shake');
            }, 500);
        }
    }

    // Ï¥àÍ∏∞ Î≤ÑÌäº ÏÉÅÌÉú ÏÑ§Ï†ï
    document.querySelectorAll('.exchange-button').forEach(btn => {
        const price = parseInt(btn.previousElementSibling.textContent);
        btn.disabled = userPoints < price;
    });

    function activateNavItem(element) {
        // Î™®Îì† nav-itemÏùò active ÌÅ¥ÎûòÏä§Î•º Ï†úÍ±∞Ìï©ÎãàÎã§.
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => item.classList.remove('active'));

        // ÌòÑÏû¨ ÌÅ¥Î¶≠Ìïú Ìï≠Î™©Ïóê active ÌÅ¥ÎûòÏä§Î•º Ï∂îÍ∞ÄÌï©ÎãàÎã§.
        element.classList.add('active');
    }
</script>
</body>

</html>